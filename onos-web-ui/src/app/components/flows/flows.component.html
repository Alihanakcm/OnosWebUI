<div class="btn-toolbar mb-2 mb-md-0 justify-content-end">
  <div class="btn-group mr-2">
    <button type="button" class="btn btn-sm btn-outline-secondary">
      All Ports
    </button>
    <button type="button" class="btn btn-sm btn-outline-secondary">
      Export
    </button>
  </div>
</div>
<div class="table-responsive">
  <table class="table table-striped table-sm">
    <thead>
      <tr>
        <th scope="col">Id</th>
        <th scope="col">Device Id</th>
        <th scope="col">State</th>
        <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let flow of flows">
        <td>{{ flow.id }}</td>
        <td>{{ flow.deviceId }}</td>
        <td>{{ flow.state }}</td>
        <td>
          <a
            type="button"
            class="btn btn-info btn-sm"
            data-toggle="modal"
            data-target="#flowDetail"
            (click)="getFlowById(flow.deviceId, flow.id)"
            >Details</a
          >
        </td>
        <td>
          <a
            type="button"
            class="btn btn-danger btn-sm"
            (click)="removeFlow(flow.deviceId, flow.id)"
            >Remove</a
          >
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Modal -->
<div
  *ngIf="flowDetail !=undefined"
  class="modal fade"
  id="flowDetail"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Flow Detail</h5>
      </div>
      <div class="modal-body">
        <table class="table">
          <thead>
            <tr></tr>
          </thead>
          <tbody>
            <tr>
              <td>Group Id</td>
              <td>{{ flowDetail.groupId }}</td>
            </tr>
            <tr>
              <td>State</td>
              <td>{{ flowDetail.state }}</td>
            </tr>

            <tr>
              <td>Life</td>
              <td>{{ flowDetail.life }}</td>
            </tr>

            <tr>
              <td>Live Type</td>
              <td>{{ flowDetail.liveType }}</td>
            </tr>

            <tr>
              <td>Last Seen</td>
              <td>{{ flowDetail.lastSeen }}</td>
            </tr>

            <tr>
              <td>Packets</td>
              <td>{{ flowDetail.packets }}</td>
            </tr>

            <tr>
              <td>Bytes</td>
              <td>{{ flowDetail.bytes }}</td>
            </tr>

            <tr>
              <td>Id</td>
              <td>{{ flowDetail.id }}</td>
            </tr>

            <tr>
              <td>App Id</td>
              <td>{{ flowDetail.appId }}</td>
            </tr>
            <tr>
              <td>Priority</td>
              <td>{{ flowDetail.priority }}</td>
            </tr>

            <tr>
              <td>Timeout</td>
              <td>{{ flowDetail.timeout }}</td>
            </tr>

            <tr>
              <td>Is Permanent</td>
              <td>{{ flowDetail.isPermanent }}</td>
            </tr>

            <tr>
              <td>Device Id</td>
              <td>{{ flowDetail.deviceId }}</td>
            </tr>

            <tr>
              <td>Table Id</td>
              <td>{{ flowDetail.tableId }}</td>
            </tr>

            <tr>
              <td>Table Name</td>
              <td>{{ flowDetail.tableName }}</td>
            </tr>

            <tr>
              <td>Treatment Instructions Type</td>
              <td>{{ flowDetail.treatment.instructions[0].type }}</td>
            </tr>

            <tr>
              <td>Instructions Type</td>
              <td>{{ flowDetail.treatment.instructions[0].port }}</td>
            </tr>

            <tr>
              <td>Selector Criteria Type</td>
              <td>{{ flowDetail.selector.criteria[0].type }}</td>
            </tr>

            <tr>
              <td>Selector Criteria eth Type</td>
              <td>{{ flowDetail.selector.criteria[0].ethType }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
